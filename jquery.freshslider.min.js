(function(c){c.fn.freshslider=function(E){var e,f=this,l=f.find(".slides-inner:first"),d=l.children(".slide-item"),g={0:0},h=["arrows","bullets","both"],m,b=0,n,p,q=[],a=c.extend({},{isActiveClass:"freshslider-active",animation:!1,fadingSpeed:400,timeout:8E3,autoSlide:!1,cycle:!1,navType:h[0],navContainer:f,history:window.history,historyOn:!0,historyParam:"slide",firstSlide:function(){return!0},lastSlide:function(){return!0},ready:function(){return!0}},E),A=function(){if(b===d.length-1)if(a.cycle)b= 0,y(g[0]),w();else return clearTimeout(m),!0;else z(),r()&&(s(void 0),t(void 0));m=window.setTimeout(A,a.timeout)},u=function(){a.autoSlide&&(clearTimeout(m),m=window.setTimeout(A,a.timeout))},B=function(){var a=f.width();d.width(a);f.children(".slides").css("width",a);l.css({width:a*d.length,"margin-left":-(a*b)});for(e=1;e<d.length;e++)g[e]=c(d[e]).width()+g[e-1]},z=function(){var c=d.length-1;b+1<=c?(b+=1,b===c&&"function"===typeof a.lastSlide&&a.lastSlide()):b=a.cycle?0:c;v()},v=function(){y(-g[b]); var x=c(d[b]),e=a.history;if(C()){var k=q[b];x.data("title")&&(document.title=x.data("title")+f.data("title-template"));e.pushState({slide:k},document.title,["?",a.historyParam,"=",k].join(""))}l.children(".slide-item.active").removeClass("active");x.addClass("active");w()},y=function(b){a.animation?l.stop(!0,!0).animate({marginLeft:b},a.fadingSpeed,a.animation):l.css("marginLeft",b)},s=function(){0>=b&&!a.cycle?f.addClass("nav-prev-hidden"):f.removeClass("nav-prev-hidden")},t=function(){b>=d.length- 1&&!a.cycle?f.addClass("nav-next-hidden"):f.removeClass("nav-next-hidden")},r=function(){return!a.navType||a.navType!==h[0]&&a.navType!==h[2]?!1:!0},D=function(){return!a.navType||a.navType!==h[1]&&a.navType!==h[2]?!1:!0},C=function(){var b="function"===typeof c.url;return a.historyOn&&a.history.enabled&&b?!0:!1},w=function(){if(D()){var d=a.navContainer.find(".bullet");d.removeClass("active");c(d[b]).addClass("active")}};(function(){f.addClass(a.isActiveClass);B();if(C()){var e=c.url().param(a.historyParam); d.each(function(a){c(d[a]).data("id")?q.push(c(d[a]).data("id")):q.push(""+(a+1))});e&&(b=parseInt(q.indexOf(e),10));if(b>d.length-1||0>=b)b=0;v()}else c(d[b]).addClass("active");if(r()){p=c('<ul class="slider-nav arrows"/>');var h=[];c.each(["prev","next"],function(a,b){h.push(c("<li/>").append(c("<a/>",{"class":"arrow "+b,title:"Slide to "+b,text:b})))});a.navContainer.remove(".slider-nav.arrows");a.navContainer.append(p.append(h));var k=p.find(".prev"),g=p.find(".next");s(k);t(g);k.on("click", function(){0<=b-1?(b-=1,0===b&&"function"===typeof a.firstSlide&&a.firstSlide()):b=a.cycle?d.length-1:0;v();r()&&(s(k),t(g));u();return!1});g.on("click",function(){z();r()&&(s(k),t(g));u();return!1})}D()&&(n=c('<ol class="slider-nav bullets"/>'),c.each(d,function(b){var d="Slide "+(b+1);c("<li />").append(c("<a/>",{"class":"bullet",title:d,text:d,href:"?"+a.historyParam+"="+(b+1)})).appendTo(n)}),n.on("click","a.bullet",function(a){a.preventDefault();b=c(this).parent().index();v();u();return!1}), n.appendTo(f.find(".slider-nav-wrapper:first")),w());l.parent().css({height:"auto",overflow:"visible"});c(window).resize(function(){B()});u();d.ready(function(){"function"===typeof a.ready&&a.ready()})})()}})(jQuery);
